//
//  TyuoAreaBorder.swift
//  GoToEatSaitamaMap
//
//  Created by 齋藤健悟 on 2020/12/16.
//

import Foundation
import CoreLocation
import MapKit

struct TyuoAreaBorder {
    
    func polygon(from text: String? = nil) -> MKPolygon {
        let list = coordList(from: text)
        return MKPolygon(coordinates: list, count: list.count)
    }
    
    func coordList(from text: String? = nil) -> [CLLocationCoordinate2D] {
        if let text = text {
            return makeCoordList(from: text)
        }
        return makeCoordList(from: borderCoordText)
    }
    
    private func makeCoordList(from text: String) -> [CLLocationCoordinate2D] {
        let coordList: [CLLocationCoordinate2D] = text
            .components(separatedBy: .newlines)
            .compactMap {
                let latLon = $0.components(separatedBy: .whitespaces)
                    .filter {!$0.isEmpty}
                if let lat = CLLocationDegrees(latLon[0]),
                   let lon = CLLocationDegrees(latLon[1]) {
                    return CLLocationCoordinate2D(latitude: lat, longitude: lon)
                }
                return nil
            }
        return coordList
    }
    
    private let borderCoordText = """
    35.87807659 139.60432438
    35.87813761 139.60431195
    35.87856478 139.60438659
    35.87899197 139.60442389
    35.87928692 139.60451097
    35.87973441 139.60466027
    35.88014125 139.60478467
    35.88044636 139.60478470
    35.88107695 139.60473494
    35.88127528 139.60464786
    35.88148887 139.60457319
    35.88153972 139.60471005
    35.88178380 139.60504594
    35.88187533 139.60523255
    35.88193636 139.60554355
    35.88198723 139.60636462
    35.88207284 139.60833333
    35.88207303 139.60833778
    35.88208892 139.60870339
    35.88214995 139.60913878
    35.88256695 139.60907659
    35.88280087 139.60891486
    35.88323313 139.60891489
    35.88326364 139.60920100
    35.88333300 139.60938280
    35.88333333 139.60938365
    35.88333484 139.60938761
    35.88353825 139.60949959
    35.88400611 139.60956178
    35.88426547 139.60958667
    35.88429597 139.60979815
    35.88450956 139.61049481
    35.88502825 139.61024600
    35.88491639 139.60986034
    35.88511980 139.60962397
    35.88544528 139.60936272
    35.88564869 139.60917614
    35.88605551 139.60889000
    35.88614195 139.60872825
    35.88631487 139.60867849
    35.88652764 139.60833781
    35.88653044 139.60833333
    35.88687425 139.60778280
    35.88703697 139.60752156
    35.88737261 139.60745936
    35.88746417 139.60742202
    35.88770825 139.60717322
    35.88781503 139.60692442
    35.88793708 139.60675022
    35.88818117 139.60648900
    35.88834392 139.60621531
    35.88841511 139.60590431
    35.88839478 139.60550623
    35.88835408 139.60541914
    35.88810997 139.60509567
    35.88824220 139.60485930
    35.88837441 139.60475978
    35.88852697 139.60473489
    35.88866936 139.60472244
    35.88860836 139.60427462
    35.88899484 139.60459805
    35.88918808 139.60487175
    35.88932539 139.60512053
    35.88944744 139.60544399
    35.88961017 139.60544399
    35.88987461 139.60625261
    35.89031195 139.60628992
    35.89102392 139.60635214
    35.89166633 139.60640453
    35.89166667 139.60640455
    35.89201556 139.60643300
    35.89245287 139.60647034
    35.89290039 139.60660717
    35.89349536 139.60684353
    35.89379031 139.60698039
    35.89412595 139.60704258
    35.89510741 139.60722920
    35.89546339 139.60731628
    35.89601261 139.60741577
    35.89580803 139.60833333
    35.89580703 139.60833783
    35.89528031 139.61070005
    35.89520911 139.61068761
    35.89522944 139.61160820
    35.89399880 139.61213070
    35.89425814 139.61298905
    35.89403439 139.61307614
    35.89424797 139.61381012
    35.89414628 139.61388475
    35.89419711 139.61456897
    35.89417677 139.61542737
    35.89418414 139.61666667
    35.89418414 139.61667119
    35.89418695 139.61714411
    35.89416664 139.61750486
    35.89408525 139.61782830
    35.89413611 139.61816419
    35.89418697 139.61894798
    35.89401405 139.61903503
    35.89424800 139.61991830
    35.89369877 139.62006759
    35.89395305 139.62098817
    35.89384117 139.62101306
    35.89392253 139.62141114
    35.89367844 139.62154798
    35.89354620 139.62162263
    35.89337331 139.62175947
    35.89329195 139.62185900
    35.89313939 139.62195850
    35.89290541 139.62204555
    35.89311900 139.62260538
    35.89601256 139.62143600
    35.89637361 139.62128672
    35.89656686 139.62200825
    35.89727880 139.62170966
    35.89716692 139.62139866
    35.89755850 139.62126183
    35.89893156 139.62061494
    35.89898241 139.62076423
    35.89999964 139.62026769
    35.90000000 139.62026750
    35.90122505 139.61966949
    35.90136920 139.62014375
    35.90137250 139.62015467
    35.90153525 139.62008003
    35.90170814 139.62059008
    35.90179969 139.62070202
    35.90192175 139.62107525
    35.90201328 139.62103791
    35.90221667 139.62169725
    35.90209464 139.62175947
    35.90224720 139.62231927
    35.90123011 139.62276713
    35.90153523 139.62408581
    35.90138267 139.62414800
    35.90159072 139.62500000
    35.90159184 139.62500458
    35.90160895 139.62507469
    35.90136484 139.62514934
    35.90115633 139.62528616
    35.90097325 139.62551008
    35.90066813 139.62560961
    35.90069864 139.62526128
    35.90060711 139.62527372
    35.90000000 139.62566027
    35.89999964 139.62566051
    35.89986464 139.62574645
    35.89939677 139.62621920
    35.89917303 139.62655508
    35.89914251 139.62653019
    35.89882722 139.62675414
    35.89781523 139.62737613
    35.89733211 139.62769958
    35.89647778 139.62813497
    35.89632522 139.62822209
    35.89641675 139.62890628
    35.89693036 139.62875700
    35.89771350 139.62848331
    35.89788639 139.62842112
    35.89799828 139.62885652
    35.89768297 139.62925462
    35.89725584 139.62980197
    35.89682867 139.63038667
    35.89638623 139.63094647
    35.89621331 139.63118283
    35.89631503 139.63145652
    35.89612177 139.63170533
    35.89592344 139.63184217
    35.89573020 139.63176752
    35.89555731 139.63180484
    35.89523184 139.63209097
    35.89464192 139.63258859
    35.89435717 139.63277519
    35.89432664 139.63301156
    35.89436172 139.63333333
    35.89436223 139.63333791
    35.89438767 139.63357136
    35.89419951 139.63375172
    35.89360959 139.63417470
    35.89290780 139.63464745
    35.89281628 139.63446083
    35.89204328 139.63427423
    35.89166667 139.63452550
    35.89166633 139.63452572
    35.89153984 139.63461012
    35.89123472 139.63480914
    35.89054308 139.63519481
    35.88918925 139.63592355
    35.88871084 139.63620445
    35.88777692 139.63664453
    35.88724872 139.63682241
    35.88713184 139.63617601
    35.88707061 139.63590445
    35.88734236 139.63572655
    35.88782461 139.63538947
    35.88830689 139.63499623
    35.88910303 139.63402241
    35.88942072 139.63356361
    35.88956036 139.63333791
    35.88956320 139.63333333
    35.88963508 139.63321717
    35.88959680 139.63304861
    35.88920639 139.63324525
    35.88897233 139.63333333
    35.88896017 139.63333791
    35.88895759 139.63333888
    35.88895736 139.63333791
    35.88895633 139.63333333
    35.88889633 139.63306733
    35.88872792 139.63332017
    35.88864372 139.63295494
    35.88836814 139.63310477
    35.88822269 139.63253361
    35.88796241 139.63272086
    35.88712556 139.63333333
    35.88711931 139.63333789
    35.88704761 139.63339036
    35.88675675 139.63362445
    35.88676439 139.63391472
    35.88678736 139.63451397
    35.88685625 139.63570314
    35.88691547 139.63633934
    35.88518880 139.63742949
    35.88438120 139.63794450
    35.88396020 139.63817856
    35.88333333 139.63850966
    35.88333303 139.63850981
    35.88328653 139.63853436
    35.88333303 139.63874348
    35.88333333 139.63874486
    35.88361825 139.64002613
    35.88376372 139.64054111
    35.88333333 139.64080436
    35.88333303 139.64080455
    35.88295736 139.64103436
    35.88217275 139.63873100
    35.88176320 139.63766358
    35.88154120 139.63705497
    35.88107425 139.63727034
    35.88056520 139.63732650
    35.87783236 139.63769163
    35.87668792 139.63783209
    35.87612911 139.63789764
    35.87500000 139.63806319
    35.87499972 139.63806322
    35.87491584 139.63807553
    35.87455223 139.63812469
    35.87438380 139.63824642
    35.87405464 139.63815044
    35.87295614 139.63807553
    35.87221361 139.63806616
    35.87147489 139.63807555
    35.87092372 139.63808489
    35.87088544 139.63878713
    35.87092678 139.63944287
    35.86998039 139.63955628
    35.87000584 139.63987375
    35.86928705 139.63995986
    35.86932747 139.64046438
    35.86912711 139.64048842
    35.86922150 139.64166667
    35.86922186 139.64167119
    35.86922964 139.64176811
    35.86871569 139.64182975
    35.86870297 139.64167119
    35.86870261 139.64166667
    35.86869475 139.64156861
    35.86840959 139.64160280
    35.86841469 139.64166667
    35.86841505 139.64167119
    35.86848114 139.64249581
    35.86769600 139.64258995
    35.86774620 139.64321625
    35.86757772 139.64323645
    35.86760900 139.64362645
    35.86751625 139.64363756
    35.86754851 139.64404005
    35.86779239 139.64401083
    35.86781600 139.64430547
    35.86787805 139.64429803
    35.86790764 139.64466725
    35.86810286 139.64464384
    35.86811817 139.64490603
    35.86834784 139.64496219
    35.86888367 139.64492475
    35.86892961 139.64556144
    35.86860808 139.64563635
    35.86796505 139.64569253
    35.86784259 139.64529927
    35.86738328 139.64432550
    35.86707708 139.64374497
    35.86668047 139.64314089
    35.86667136 139.64312703
    35.86666667 139.64312066
    35.86666639 139.64312031
    35.86638047 139.64273372
    35.86631922 139.64267756
    35.86605895 139.64271501
    35.86598241 139.64170377
    35.86561497 139.64175997
    35.86561013 139.64167117
    35.86560989 139.64166667
    35.86552311 139.64007458
    35.86377664 139.64036047
    35.86267167 139.64056895
    35.86265347 139.64030717
    35.86042105 139.64036481
    35.86030625 139.64009328
    35.86019141 139.64003711
    35.85989286 139.64001839
    35.85975508 139.64004647
    35.85978569 139.64045844
    35.85851113 139.64050528
    35.85848051 139.64017756
    35.85833333 139.64018489
    35.85833308 139.64018492
    35.85810541 139.64019628
    35.85806895 139.63985739
    35.85790820 139.63977311
    35.85757136 139.63972630
    35.85734939 139.63958586
    35.85725753 139.63948287
    35.85713503 139.63946414
    35.85671020 139.63942664
    35.85661067 139.63952027
    35.85655708 139.63967944
    35.85647669 139.63984798
    35.85636953 139.63990416
    35.85600211 139.63989481
    35.85520597 139.63975436
    35.85486917 139.63980117
    35.85463951 139.63959516
    35.85466247 139.63950156
    35.85436392 139.63948280
    35.85434861 139.63911766
    35.85467013 139.63907083
    35.85509114 139.63899594
    35.85575713 139.63884611
    35.85660684 139.63862141
    35.85728431 139.63843414
    35.85758286 139.63840606
    35.85791203 139.63852778
    35.85816847 139.63859333
    35.85833308 139.63859333
    35.85833333 139.63859333
    35.85838280 139.63859333
    35.85849764 139.63849036
    35.85865839 139.63830309
    35.85897989 139.63801283
    35.85955020 139.63778811
    35.85938017 139.63724550
    35.85987005 139.63703953
    35.86051308 139.63673988
    35.86037528 139.63629047
    35.86076669 139.63611708
    35.86111251 139.63592425
    35.86126505 139.63581852
    35.86224656 139.63520272
    35.86271439 139.63489172
    35.86349244 139.63435678
    35.86322595 139.63333781
    35.86322478 139.63333333
    35.86284659 139.63188737
    35.86318223 139.63170075
    35.86348736 139.63172564
    35.86381284 139.63171319
    35.86401623 139.63167586
    35.86430103 139.63148925
    35.86450444 139.63137730
    35.86488075 139.63136489
    35.86529267 139.63134000
    35.86540456 139.63100411
    35.86553678 139.63068066
    35.86565880 139.63010839
    35.86580123 139.62982224
    35.86594359 139.62973519
    35.86612667 139.62969786
    35.86597411 139.62917538
    35.86545539 139.62748350
    35.86589272 139.62749591
    35.86650297 139.62713516
    35.86626905 139.62632655
    35.86616225 139.62589112
    35.86666639 139.62568239
    35.86666667 139.62568228
    35.86830400 139.62500445
    35.86831475 139.62500000
    35.86847611 139.62493319
    35.86832356 139.62436095
    35.86858797 139.62432365
    35.86886259 139.62428630
    35.86892361 139.62402508
    35.86916772 139.62401263
    35.86915756 139.62423655
    35.86937113 139.62427389
    35.86955420 139.62427389
    35.86956436 139.62406239
    35.86979831 139.62408728
    35.86982880 139.62429876
    35.86988984 139.62454756
    35.87006780 139.62454756
    35.87022117 139.62500000
    35.87022269 139.62500445
    35.87024072 139.62505764
    35.87045472 139.62500447
    35.87047267 139.62500000
    35.87089161 139.62489591
    35.87087128 139.62456003
    35.87112556 139.62453514
    35.87115605 139.62484616
    35.87153239 139.62467200
    35.87175103 139.62465956
    35.87178156 139.62449783
    35.87165950 139.62448538
    35.87173069 139.62350261
    35.87195444 139.62339064
    35.87188325 139.62306720
    35.87194428 139.62274372
    35.87213753 139.62227100
    35.87205617 139.62192267
    35.87203584 139.62176095
    35.87223923 139.62171117
    35.87232061 139.62195997
    35.87241213 139.62195997
    35.87263589 139.62182314
    35.87253420 139.62130064
    35.87225959 139.62130064
    35.87203584 139.62116380
    35.87192395 139.62105183
    35.87144592 139.62106428
    35.87110011 139.62107672
    35.87068820 139.62103317
    35.87090178 139.62047336
    35.87077972 139.62042358
    35.87056613 139.62102073
    35.87047461 139.62089633
    35.87052544 139.62048581
    35.87052544 139.62043603
    35.87048478 139.62039872
    35.87020000 139.62051070
    35.86995589 139.61981403
    35.86953892 139.62021211
    35.86971184 139.62083411
    35.86943722 139.62093365
    35.86929484 139.62129442
    35.86863372 139.62121978
    35.86862861 139.62080925
    35.86871000 139.62047336
    35.86883203 139.62047336
    35.86886256 139.61990112
    35.86899477 139.61930397
    35.86913717 139.61883119
    35.86935075 139.61848289
    35.86987961 139.61807236
    35.87089159 139.61748766
    35.87112553 139.61737572
    35.87106450 139.61711447
    35.87135944 139.61700250
    35.87178661 139.61680348
    35.87196787 139.61667112
    35.87197395 139.61666667
    35.87212733 139.61655464
    35.87255450 139.61634316
    35.87323595 139.61603214
    35.87330713 139.61639292
    35.87376989 139.61616900
    35.87417672 139.61596995
    35.87449203 139.61574603
    35.87448186 139.61568380
    35.87440047 139.61545988
    35.87454287 139.61531061
    35.87479205 139.61512400
    35.87495478 139.61532306
    35.87499969 139.61529167
    35.87500000 139.61529144
    35.87545314 139.61497472
    35.87588031 139.61468861
    35.87634817 139.61440248
    35.87697875 139.61389241
    35.87731947 139.61358141
    35.87726861 139.61307136
    35.87721777 139.61277280
    35.87711605 139.61254886
    35.87722795 139.61230005
    35.87736017 139.61200150
    35.87754322 139.61145411
    35.87763477 139.61065795
    35.87763477 139.61021012
    35.87759408 139.60920241
    35.87734997 139.60920241
    35.87731947 139.60880433
    35.87734772 139.60833776
    35.87734797 139.60833333
    35.87736014 139.60813253
    35.87748220 139.60799567
    35.87757372 139.60743586
    35.87751269 139.60680761
    35.87755339 139.60662103
    35.87758389 139.60632244
    35.87782800 139.60595547
    35.87837723 139.60560713
    35.87835689 139.60535834
    35.87817380 139.60481097
    35.87807659 139.60432438
    """
    
}
